{% extends 'dash-layout.html' %}

{% block heading %}
    Manage
{% endblock %}

{% block body %}
    <h1>Manage</h1>
    <form action="{{ url_for('search', user= user)}}" method="get">
        <button>Search for Stocks</button>
    </form>
    {% if stocks %}
        <div class="pane">
            <ul class="manageStock">
            {% for stock in stocks %}
                <li>
                    <h2>{{stock[0]}}</h2>
                    <h4 style="margin-left: 2rem;">Shares: {{stock[1]}}</h4>
                    <button data-stock="{{stock[0]}}">Buy</button>
                    <button data-stock="{{stock[0]}}">Sell</button>
                </li>
            {% endfor %}
            </ul>
        </div>
    {% endif %}

    <dialog id="buy">
        <h2>Buy</h2>
        <h2 id="buy-text"></h2>
        <!-- add max value to input -->
        <input type="number" min="1" id="buy-amount" placeholder="Enter dollar amount"/>
        <div class="button-holder">
            <button class="buy-button">Buy</button>
            <button class="cancel-button">Cancel</button>
        </div>
    </dialog>

    <dialog id="sell">
        <h2>Sell</h2>
        <h2 id="sell-text"></h2>
        <!-- add max value to input -->
        <input type="number" min="0.1" id="sell-amount" placeholder="Enter shares amount"/>
        <div class="button-holder">
            <button class="sell-button">Sell</button>
            <button class="cancel-button">Cancel</button>
        </div>
    </dialog>

    <dialog id="resultWindow">
        <h2>Result</h2>
    </dialog>
    
{% endblock %}